<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="NovelAI提示词组合助手 - 批量词条编辑器">
    <title>批量词条编辑器 - NovelAI提示词组合助手</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style/style.css') }}">
    <!-- 先加载公共脚本，再加载页面专属脚本 -->
    <script src="{{ url_for('static', filename='js/common.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/entryEditor.js') }}" defer></script>
</head>
<body>
    <header class="container">
        <h1>批量词条编辑器</h1>
    </header>

    <main class="editor-container">
        <!-- 修改：添加分类选择器 -->
        <div class="editor-toolbar" style="flex-direction: column; align-items: stretch;">
            <div class="form-group" style="max-width: 400px; margin: 0 auto; text-align: left;">
                <label for="categorySelect">选择要编辑的分类：</label>
                <select id="categorySelect">
                    <option value="">—— 请选择一个分类 ——</option>
                </select>
            </div>
            <button id="saveToServerTop" 
                    class="btn"
                    aria-label="保存所有更改到服务器"
                    style="margin-top: 10px;">
                保存更改
            </button>
        </div>

        <div class="editor-table-container">
            <table id="jsonTable" role="grid">
                <thead id="tableHead"></thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>

        <div class="editor-actions">
            <button id="addRow" 
                    class="btn"
                    aria-label="添加新的词条行">
                添加词条
            </button>
            <button id="saveToServer" 
                    class="btn"
                    aria-label="保存所有更改到服务器">
                保存更改
            </button>
            <button id="sortAndSaveBtn" 
                    class="btn"
                    style="background: linear-gradient(90deg, var(--info-color) 0%, var(--primary-color) 100%);"
                    aria-label="整理排序并立即保存">
                整理排序并保存
            </button>
        </div>

        <div id="msg" role="alert" aria-live="polite"></div>
    </main>

    <footer class="container">
        <a href="{{ url_for('index') }}" 
           class="return-link"
           aria-label="返回到首页">
            返回首页
        </a>
    </footer>
</body>
</html>